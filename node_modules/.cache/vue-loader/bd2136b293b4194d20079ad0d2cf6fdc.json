{"remainingRequest":"/Users/will/Documents/finchain/plugin/extension/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/will/Documents/finchain/plugin/extension/src/views/login/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/will/Documents/finchain/plugin/extension/src/views/login/Login.vue","mtime":1575943200902},{"path":"/Users/will/Documents/finchain/plugin/extension/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/will/Documents/finchain/plugin/extension/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/will/Documents/finchain/plugin/extension/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tpwd: '',\n\t\t\tpwdError: '',\n\t\t\tbtnDisabled: true\n\t\t}\n\t},\n\tcreated() {\n\t\tdocument.onkeyup = (e) => {\n\t\t\tlet key = window.event.keyCode\n\t\t\tif (key === 13) {\n\t\t\t\tthis.login()\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n    var inputPwd = document.getElementById('pwd')\n    if (inputPwd && typeof inputPwd.focus == 'function') {\n      inputPwd.focus()\n    }\n\t},\n\tmethods: {\n\t\t// 密码验证\n\t\tpwdInput() {\n\t\t\tlet pwd = this.pwd\n\t\t\tlet msg = '';\n\t\t\tif (!pwd) {\n\t\t\t\tmsg = '请输入密码'\n\t\t\t\tthis.btnDisabled = true\n\t\t\t} else {\n\t\t\t\tthis.btnDisabled = false\n\t\t\t}\n\t\t\tthis.pwdError = msg;\n\t\t},\n\t\tasync login() {\n\t\t\ttry {\n\t\t\t\t// TODO: 插件开启\n\t\t\t\tlet keystore = {}\n\t\t\t\tawait this.$unit.getStorage('keystore').then((v) => {\n\t\t\t\t\tkeystore = v\n\t\t\t\t})\n\n\t\t\t\t// FIXME: 本地开启\n\t\t\t\t// let keystore = JSON.parse(window.localStorage.getItem('keystore'))\n\n\t\t\t\tlet pwd = this.pwd\n\t\t\t\tlet result = this.$cwv.keystore.json2KeyPair(keystore, pwd)\n        console.log('resultresultresult,,,,,,>>>>>>',pwd,keystore,result)\n\t\t\t\tlet background = chrome.extension.getBackgroundPage()\n\t\t\t\tconsole.log('signJson', background.signJson())\n\t\t\t\t// if (background.signState().length) {\n\t\t\t\tif (background.signJson() != null) {\n\t\t\t\t\tthis.$router.replace({\n\t\t\t\t\t\tpath: '/signature'\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\t// 登陆成功 跳转到钱包主页\n\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\tname: 'money-bag'\n\t\t\t\t\t})\n\t\t\t\t}\n\n\n\t\t\t\t// TODO: 插件开启\n\t\t\t\tchrome.storage.local.set({ state: 'WARN' }, function () { })\n\t\t\t\tchrome.extension.getBackgroundPage().GlobalState = 'OPEN'\n\t\t\t\t// FIXME: 本地开启\n\t\t\t\t// window.localStorage.setItem('state', 'WARN')\n\t\t\t} catch (error) {\n        console.log(error)\n\t\t\t\tthis.pwdError = '密码不正确'\n\t\t\t}\n\t\t},\n\t\trecover() {\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'recover'\n\t\t\t})\n\t\t}\n\t}\n}\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\n\t<!-- <div class=\"login wrapper\">\n    <div class=\"login-inner\">\n      <div class=\"logo\">\n        <img src=\"../../assets/cwv_logo_horizontal.png\" alt=\"\">\n      </div>\n      <div class=\"input-password\">\n        <input v-model=\"password\" :class=\"{error: err}\" @keypress.enter=\"login\" autocomplete=\"off\" type=\"password\" @input=\"inputpass\" placeholder=\"密码\">\n      </div>\n      <div class=\"pass-error\">{{err}}</div>\n      <div class=\"sign-in\">\n        <button class=\"btn btn-block\" @click=\"login\">登录</button>\n      </div>\n      <div class=\"footer-tips\" @click=\"restore\">\n        <div class=\"restore\">使用助记词还原</div>\n        <div class=\"import-account\">Import using account seed phrase</div>\n      </div>\n    </div>\n  </div> -->\n\t<div class=\"login\">\n\t\t<!-- <div class=\"header\">\n\t\t\t<van-icon @click=\"back\" name=\"arrow-left\" />\n\t\t</div> -->\n\t\t<div class=\"title\">\n\t\t\t<h2>登录数字钱包</h2>\n\t\t</div>\n\t\t<div class=\"from\">\n\t\t\t<div class=\"from-item\">\n\t\t\t\t<input type=\"password\" id=\"pwd\" v-model=\"pwd\" :class=\"{error: pwdError.length >= 1}\" @input=\"pwdInput\" placeholder=\"请输入密码\" maxlength=\"24\">\n\t\t\t\t<div class=\"error-msg\">{{pwdError}}</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"button\">\n\t\t\t<button :class=\"{'btn':true,'btn-disabled': btnDisabled}\" @click=\"login\" :disabled=\"btnDisabled\">登录</button>\n\t\t</div>\n\t\t<div class=\"recover\" @click=\"recover\">\n\t\t\t<p>使用助记词还原</p>\n\t\t\t<p>Import using account seed phrase</p>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tpwd: '',\n\t\t\tpwdError: '',\n\t\t\tbtnDisabled: true\n\t\t}\n\t},\n\tcreated() {\n\t\tdocument.onkeyup = (e) => {\n\t\t\tlet key = window.event.keyCode\n\t\t\tif (key === 13) {\n\t\t\t\tthis.login()\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n    var inputPwd = document.getElementById('pwd')\n    if (inputPwd && typeof inputPwd.focus == 'function') {\n      inputPwd.focus()\n    }\n\t},\n\tmethods: {\n\t\t// 密码验证\n\t\tpwdInput() {\n\t\t\tlet pwd = this.pwd\n\t\t\tlet msg = '';\n\t\t\tif (!pwd) {\n\t\t\t\tmsg = '请输入密码'\n\t\t\t\tthis.btnDisabled = true\n\t\t\t} else {\n\t\t\t\tthis.btnDisabled = false\n\t\t\t}\n\t\t\tthis.pwdError = msg;\n\t\t},\n\t\tasync login() {\n\t\t\ttry {\n\t\t\t\t// TODO: 插件开启\n\t\t\t\tlet keystore = {}\n\t\t\t\tawait this.$unit.getStorage('keystore').then((v) => {\n\t\t\t\t\tkeystore = v\n\t\t\t\t})\n\n\t\t\t\t// FIXME: 本地开启\n\t\t\t\t// let keystore = JSON.parse(window.localStorage.getItem('keystore'))\n\n\t\t\t\tlet pwd = this.pwd\n\t\t\t\tlet result = this.$cwv.keystore.json2KeyPair(keystore, pwd)\n        console.log('resultresultresult,,,,,,>>>>>>',pwd,keystore,result)\n\t\t\t\tlet background = chrome.extension.getBackgroundPage()\n\t\t\t\tconsole.log('signJson', background.signJson())\n\t\t\t\t// if (background.signState().length) {\n\t\t\t\tif (background.signJson() != null) {\n\t\t\t\t\tthis.$router.replace({\n\t\t\t\t\t\tpath: '/signature'\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\t// 登陆成功 跳转到钱包主页\n\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\tname: 'money-bag'\n\t\t\t\t\t})\n\t\t\t\t}\n\n\n\t\t\t\t// TODO: 插件开启\n\t\t\t\tchrome.storage.local.set({ state: 'WARN' }, function () { })\n\t\t\t\tchrome.extension.getBackgroundPage().GlobalState = 'OPEN'\n\t\t\t\t// FIXME: 本地开启\n\t\t\t\t// window.localStorage.setItem('state', 'WARN')\n\t\t\t} catch (error) {\n        console.log(error)\n\t\t\t\tthis.pwdError = '密码不正确'\n\t\t\t}\n\t\t},\n\t\trecover() {\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'recover'\n\t\t\t})\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"less\" scoped>\n.login {\n\twidth: 100%;\n\theight: 100%;\n\tposition: fixed;\n\tpadding: 20px;\n\t.title {\n\t\t// margin-top: 35px;\n\t\th2 {\n\t\t\tfont-size: 18px;\n\t\t\tfont-family: PingFangSC-Medium;\n\t\t\tfont-weight: 500;\n\t\t\tcolor: rgba(0, 0, 0, 0.85);\n\t\t\tline-height: 24px;\n\t\t\ttext-align: center;\n\t\t\tmargin-top: 40px;\n\t\t}\n\t\tp {\n\t\t\tfont-size: 14px;\n\t\t\tfont-family: PingFangSC-Light;\n\t\t\tfont-weight: 300;\n\t\t\tcolor: rgba(0, 0, 0, 0.65);\n\t\t\tline-height: 20px;\n\t\t\tmargin-top: 6px;\n\t\t}\n\t}\n\t.from {\n\t\tmargin-top: 160px;\n\t\t&-item {\n\t\t\tmargin-top: 24px;\n\t\t\theight: 34px;\n\t\t\tinput {\n\t\t\t\tfont-size: 14px;\n\t\t\t\theight: 100%;\n\t\t\t\tfont-family: PingFangSC-Light;\n\t\t\t\tfont-weight: 400;\n\t\t\t\tcolor: rgba(0, 0, 0, 0.85);\n\t\t\t\tline-height: 20px;\n\t\t\t\tpadding: 0;\n\t\t\t\tborder-bottom: 1px solid rgba(0, 0, 0, 0.12);\n\t\t\t}\n\t\t\tinput.error {\n\t\t\t\tborder-color: rgba(246, 34, 46, 1);\n\t\t\t}\n\t\t\t.error-msg {\n\t\t\t\tfont-size: 12px;\n\t\t\t\tfont-family: PingFangSC-Regular;\n\t\t\t\tfont-weight: 400;\n\t\t\t\tcolor: rgba(246, 34, 46, 1);\n\t\t\t\tline-height: 18px;\n\t\t\t}\n\t\t}\n\t}\n\t.button {\n\t\ttext-align: center;\n\t\tmargin-top: 40px;\n\t\t.btn {\n\t\t\twidth: 283px;\n\t\t\theight: 48px;\n\t\t\tbackground: rgba(51, 76, 169, 1);\n\t\t\tborder-radius: 4px;\n\t\t\tborder: 1px solid rgba(51, 76, 169, 1);\n\t\t\tfont-size: 13px;\n\t\t\tfont-family: PingFangSC-Medium;\n\t\t\tfont-weight: 500;\n\t\t\tcolor: rgba(255, 255, 255, 1);\n\t\t}\n\t\t.btn-disabled {\n\t\t\tbackground: rgba(174, 184, 221, 1);\n\t\t\tcolor: rgba(255, 255, 255, 1);\n\t\t\tborder: 1px solid rgba(174, 184, 221, 1);\n\t\t}\n\t}\n\t.recover {\n\t\tmargin-top: 20px;\n\t\ttext-align: left;\n\t\tfont-size: 12px;\n\t\tfont-family: PingFangSC-Light;\n\t\tfont-weight: 300;\n\t\tcolor: rgba(81, 111, 234, 1);\n\t\tline-height: 19px;\n\t\tp {\n\t\t\t&:first-child {\n\t\t\t\tcolor: rgba(0, 0, 0, 0.65);\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n"]}]}