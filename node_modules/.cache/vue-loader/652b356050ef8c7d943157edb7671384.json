{"remainingRequest":"/Users/will/Downloads/plugiin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/will/Downloads/plugiin/src/views/money/MoneyReceipt.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/will/Downloads/plugiin/src/views/money/MoneyReceipt.vue","mtime":1574819910000},{"path":"/Users/will/Downloads/plugiin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/will/Downloads/plugiin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/will/Downloads/plugiin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport QRCode from \"qrcodejs2\"\nimport { Toast } from 'vant'\nexport default {\n\tcomponents: { QRCode },\n\tdata() {\n\t\treturn {\n\t\t\taddress: '',\n\t\t\taddressPwd: '',\n\t\t\tassignMoney: '',\n\t\t}\n\t},\n\tasync created() {\n\t\tthis.assignMoney = this.$route.params.assignMoney || ''\n\n\t\t// TODO: 插件使用\n\t\tlet keypair = ''\n\t\tawait this.$unit.getStorage('keypair').then((v) => {\n\t\t\tkeypair = JSON.stringify(v)\n\t\t})\n\n\t\t// FIXME: 本地使用\n\t\t// let keypair = window.localStorage.getItem('keypair')\n\t\tthis.address = JSON.parse(keypair).hexAddress\n\t\tlet str = this.address\n\t\tthis.addressPwd = str.substring(0, 13) + '****' + str.substring(str.length - 13)\n\t\tif (this.assignMoney) {\n\t\t\tthis.address = `${this.address}:${this.assignMoney}`\n\t\t}\n\n\t\tthis.$nextTick(function () {\n\t\t\tthis.qrcode();\n\t\t})\n\t},\n\tmethods: {\n\t\t// 生成二维码\n\t\tqrcode() {\n\t\t\tlet qrcode = new QRCode('ewm', {\n\t\t\t\twidth: 175,\n\t\t\t\theight: 175,        // 高度\n\t\t\t\ttext: this.address,   // 二维码内容\n\t\t\t})\n\t\t},\n\t\t// 回退\n\t\tback() {\n\t\t\tthis.$router.go(-1)\n\t\t},\n\t\t// 拷贝按钮\n\t\tcopy() {\n\t\t\tlet clipboard = new this.$clipboard('.address')\n\t\t\tclipboard.on('success', e => {\n\t\t\t\tToast('复制成功')\n\n\t\t\t\t// 释放内存\n\t\t\t\tclipboard.destroy()\n\t\t\t})\n\t\t\tclipboard.on('error', e => {\n\t\t\t\t// 不支持复制\n\t\t\t\tToast('该浏览器不支持自动复制')\n\t\t\t\t// 释放内存\n\t\t\t\tclipboard.destroy()\n\t\t\t})\n\t\t\tconst timer = setInterval(() => {\n\t\t\t\tclearInterval(timer)\n\t\t\t\tToast.clear()\n\t\t\t}, 800)\n\n\t\t},\n\t\t// 指定金额\n\t\tassign() {\n\t\t\tthis.$router.push({ name: 'money-assign' })\n\t\t}\n\t}\n}\n",{"version":3,"sources":["MoneyReceipt.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MoneyReceipt.vue","sourceRoot":"src/views/money","sourcesContent":["<template>\n\t<div class=\"receipt\">\n\t\t<div class=\"header\">\n\t\t\t<van-icon @click=\"back\" name=\"arrow-left fl\" />\n\t\t\t<span class=\"title\">收款</span>\n\t\t</div>\n\t\t<div class=\"ewm\">\n\t\t\t<p class=\"title\">钱包地址</p>\n\t\t\t<p class=\"address\" :data-clipboard-text=\"address\" @click=\"copy\">{{addressPwd}}<span class=\"copy\"></span></p>\n\t\t\t<p class=\"ewm-pic\" id=\"ewm\"></p>\n\t\t\t<p class=\"assign-money\">{{assignMoney ? `${assignMoney} SC` : ''}}</p>\n\t\t</div>\n\t\t<div class=\"button\">\n\t\t\t<button class='btn' @click=\"assign\">指定金额</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport QRCode from \"qrcodejs2\"\nimport { Toast } from 'vant'\nexport default {\n\tcomponents: { QRCode },\n\tdata() {\n\t\treturn {\n\t\t\taddress: '',\n\t\t\taddressPwd: '',\n\t\t\tassignMoney: '',\n\t\t}\n\t},\n\tasync created() {\n\t\tthis.assignMoney = this.$route.params.assignMoney || ''\n\n\t\t// TODO: 插件使用\n\t\tlet keypair = ''\n\t\tawait this.$unit.getStorage('keypair').then((v) => {\n\t\t\tkeypair = JSON.stringify(v)\n\t\t})\n\n\t\t// FIXME: 本地使用\n\t\t// let keypair = window.localStorage.getItem('keypair')\n\t\tthis.address = JSON.parse(keypair).hexAddress\n\t\tlet str = this.address\n\t\tthis.addressPwd = str.substring(0, 13) + '****' + str.substring(str.length - 13)\n\t\tif (this.assignMoney) {\n\t\t\tthis.address = `${this.address}:${this.assignMoney}`\n\t\t}\n\n\t\tthis.$nextTick(function () {\n\t\t\tthis.qrcode();\n\t\t})\n\t},\n\tmethods: {\n\t\t// 生成二维码\n\t\tqrcode() {\n\t\t\tlet qrcode = new QRCode('ewm', {\n\t\t\t\twidth: 175,\n\t\t\t\theight: 175,        // 高度\n\t\t\t\ttext: this.address,   // 二维码内容\n\t\t\t})\n\t\t},\n\t\t// 回退\n\t\tback() {\n\t\t\tthis.$router.go(-1)\n\t\t},\n\t\t// 拷贝按钮\n\t\tcopy() {\n\t\t\tlet clipboard = new this.$clipboard('.address')\n\t\t\tclipboard.on('success', e => {\n\t\t\t\tToast('复制成功')\n\n\t\t\t\t// 释放内存\n\t\t\t\tclipboard.destroy()\n\t\t\t})\n\t\t\tclipboard.on('error', e => {\n\t\t\t\t// 不支持复制\n\t\t\t\tToast('该浏览器不支持自动复制')\n\t\t\t\t// 释放内存\n\t\t\t\tclipboard.destroy()\n\t\t\t})\n\t\t\tconst timer = setInterval(() => {\n\t\t\t\tclearInterval(timer)\n\t\t\t\tToast.clear()\n\t\t\t}, 800)\n\n\t\t},\n\t\t// 指定金额\n\t\tassign() {\n\t\t\tthis.$router.push({ name: 'money-assign' })\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"less\" scoped>\n.receipt {\n\twidth: 100%;\n\theight: 100%;\n\tpadding: 20px;\n\t.header {\n\t\tfont-size: 16px;\n\t\theight: 24px;\n\t\tline-height: 24px;\n\t\ttext-align: center;\n\t\tposition: relative;\n\t\t.van-icon-arrow-left {\n\t\t\tcursor: pointer;\n\t\t\tcolor: #516fea;\n\t\t\tposition: absolute;\n\t\t\tleft: 0;\n\t\t\ttop: 50%;\n\t\t\tmargin-top: -6px;\n\t\t}\n\t\t.title {\n\t\t\tfont-family: PingFangSC-Regular;\n\t\t\tfont-weight: 400;\n\t\t\tcolor: rgba(0, 0, 0, 0.85);\n\t\t\tvertical-align: middle;\n\t\t}\n\t}\n\t.ewm {\n\t\tmargin-top: 26px;\n\t\ttext-align: center;\n\t\t.title {\n\t\t\theight: 20px;\n\t\t\tfont-size: 14px;\n\t\t\tfont-family: PingFangSC-Regular;\n\t\t\tfont-weight: 400;\n\t\t\tcolor: rgba(0, 0, 0, 0.35);\n\t\t\tline-height: 20px;\n\t\t}\n\t\t.address {\n\t\t\tmargin-top: 10px;\n\t\t\theight: 20px;\n\t\t\tfont-size: 14px;\n\t\t\tfont-family: PingFangSC-Regular;\n\t\t\tfont-weight: 400;\n\t\t\tcolor: rgba(0, 0, 0, 0.85);\n\t\t\tline-height: 20px;\n\t\t\tspan {\n\t\t\t\twidth: 14px;\n\t\t\t\theight: 14px;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tmargin-left: 6px;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tbackground: url('../../assets/copy2.png') no-repeat;\n\t\t\t\tbackground-size: 100%;\n\t\t\t}\n\t\t}\n\t\t&-pic {\n\t\t\tmargin: 0 auto;\n\t\t\tpadding: 10px;\n\t\t\twidth: 195px;\n\t\t\theight: 195px;\n\t\t\tmargin-top: 18px;\n\t\t\tborder: 1px dashed #999;\n\t\t}\n\t\t.assign-money {\n\t\t\tmargin-top: 16px;\n\t\t\theight: 24px;\n\t\t\tfont-size: 18px;\n\t\t\tfont-family: PingFangSC-Regular;\n\t\t\tfont-weight: 400;\n\t\t\tcolor: rgba(0, 0, 0, 0.85);\n\t\t\tline-height: 24px;\n\t\t}\n\t}\n\t.button {\n\t\ttext-align: center;\n\t\tmargin-top: 30px;\n\t\t.btn {\n\t\t\twidth: 283px;\n\t\t\theight: 48px;\n\t\t\tbackground: rgba(51, 76, 169, 1);\n\t\t\tborder-radius: 4px;\n\t\t\tborder: 1px solid rgba(51, 76, 169, 1);\n\t\t\tfont-size: 13px;\n\t\t\tfont-family: PingFangSC-Medium;\n\t\t\tfont-weight: 500;\n\t\t\tcolor: rgba(255, 255, 255, 1);\n\t\t}\n\t}\n}\n</style>\n"]}]}