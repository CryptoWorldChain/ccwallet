{"remainingRequest":"/Users/will/Downloads/plugiin/node_modules/thread-loader/dist/cjs.js!/Users/will/Downloads/plugiin/node_modules/babel-loader/lib/index.js!/Users/will/Downloads/plugiin/src/main.js","dependencies":[{"path":"/Users/will/Downloads/plugiin/src/main.js","mtime":1574819910000},{"path":"/Users/will/Downloads/plugiin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/will/Downloads/plugiin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/will/Downloads/plugiin/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/will/Downloads/plugiin/node_modules/@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"/Users/will/Downloads/plugiin/node_modules/core-js/modules/es6.array.iterator.js\");\n\nrequire(\"/Users/will/Downloads/plugiin/node_modules/core-js/modules/es6.promise.js\");\n\nrequire(\"/Users/will/Downloads/plugiin/node_modules/core-js/modules/es6.object.assign.js\");\n\nrequire(\"/Users/will/Downloads/plugiin/node_modules/core-js/modules/es7.promise.finally.js\");\n\nvar _vue = _interopRequireDefault(require(\"vue\"));\n\nvar _App = _interopRequireDefault(require(\"./App.vue\"));\n\nvar _router = _interopRequireDefault(require(\"./router\"));\n\nvar _store = _interopRequireDefault(require(\"./store\"));\n\nrequire(\"amfe-flexible\");\n\nvar _vant = _interopRequireDefault(require(\"vant\"));\n\nrequire(\"vant/lib/index.css\");\n\nrequire(\"./css/index.less\");\n\nvar _clipboard = _interopRequireDefault(require(\"clipboard\"));\n\nvar _unit = _interopRequireDefault(require(\"./unit\"));\n\n_vue.default.use(_vant.default);\n\nvar cwv = require(\"../public/cwv\");\n\n_vue.default.prototype.$cwv = cwv;\n_vue.default.prototype.$cwv2 = window.cwv;\n_vue.default.prototype.$bip39 = window.bip39;\n_vue.default.prototype.$bip44 = window.bip44;\n_vue.default.prototype.$clipboard = _clipboard.default;\n_vue.default.config.productionTip = false; // let loginState = ''\n// chrome.runtime.getBackgroundPage(function (event) {\n//   loginState = event.loginState\n//   console.log(loginState)\n// })\n// console.log('loginState', loginState)\n\nvar background = chrome.extension.getBackgroundPage(); // console.log(background.signState())\n\nif (background.GlobalState) {\n  if (background.signJson() !== '') {\n    _router.default.replace({\n      path: '/signature'\n    });\n  } else {\n    chrome.storage.local.get('state', function (items) {\n      var state = items.state;\n\n      if (state === 'WARN') {\n        _router.default.replace({\n          path: '/money-bag'\n        });\n      } else if (state === 'HAVE') {\n        _router.default.replace({\n          path: '/login'\n        });\n      } else {\n        _router.default.replace('/');\n      }\n    });\n  }\n} else {\n  chrome.storage.local.get('state', function (items) {\n    var state = items.state;\n\n    if (state) {\n      _router.default.replace({\n        path: '/login'\n      });\n    } else {\n      _router.default.replace('/');\n    }\n  });\n} // chrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n//   if (request.type === 'SIGNJSON') {\n//     if (request.data.length > 0) {\n//     } else {\n//       chrome.storage.local.get('state', function (items) {\n//         let state = items.state\n//         if (state === 'WARN') {\n//           router.replace({\n//             path: '/money-bag'\n//           })\n//         } else if (state === 'HAVE') {\n//           router.replace({\n//             path: '/login'\n//           })\n//         } else {\n//           router.replace('/')\n//         }\n//       })\n//     }\n//     sendResponse('')\n//   }\n// })\n// let local = window.localStorage.getItem('open')\n// chrome.storage.local.get('state', function (items) {\n//   let state = items.state\n//   if (state === 'WARN' && local) {\n//     router.replace({\n//       path: '/money-bag'\n//     })\n//   } else if (state === 'HAVE') {\n//     router.replace({\n//       path: '/login'\n//     })\n//   } else {\n//     router.replace('/')\n//   }\n// })\n\n\nconsole.log(_unit.default);\n_vue.default.prototype.$unit = _unit.default; // Vue.prototype.$getStorage = function (key) {\n//   return new Promise(function (resolve) {\n//     chrome.storage.local.get(key, function (items) {\n//       resolve(items[key])\n//     })\n//   })\n// }\n// chrome.runtime.onMessageExternal.addListener(function (\n//   request,\n//   sender,\n//   sendResponse\n// ) {\n//   // 可以针对sender做一些白名单检查\n//   // sendResponse返回响应\n//   alert('request', request)\n//   console.log(request)\n//   if (request.type == 'MsgFromPage') {\n//     sendResponse({\n//       tyep: 'MsgFromChrome',\n//       msg: 'Hello, I am chrome extension~'\n//     })\n//   }\n// })\n// var popupWindows = chrome.extension.getViews({type:'popup'});\n// if (popupWindows.length) { // A popup has been found\n//     // details is the object from the onMessage event (see 2)\n//     popupWindows[0].whatever(message, sendResponse);\n// }\n// function whatever(message, sendResponse) {\n//   // Do something, for example, sending the message back\n//   sendResponse(message);\n// }\n// let state = window.localStorage.getItem('state') || ''\n// let state = ''\n// getStorage('state').then((v) => {\n//   let state = v\n//   if (state === 'WARN') {\n//     router.replace({\n//       path: '/money-home'\n//     })\n//   } else if (state === 'HAVE') {\n//     router.replace({\n//       path: '/login'\n//     })\n//   } else {\n//     router.replace('/')\n//   }\n// })\n// new Promise(function (resolve, reject) {\n// })\n// chrome.storage.local.get('state', function (result) {\n//   console.log(result)\n//   state = result.state\n// })\n\nnew _vue.default({\n  router: _router.default,\n  store: _store.default,\n  render: function render(h) {\n    return h(_App.default);\n  }\n}).$mount('#app');",{"version":3,"sources":["/Users/will/Downloads/plugiin/src/main.js"],"names":["Vue","use","Vant","cwv","require","prototype","$cwv","$cwv2","window","$bip39","bip39","$bip44","bip44","$clipboard","Clipboard","config","productionTip","background","chrome","extension","getBackgroundPage","GlobalState","signJson","router","replace","path","storage","local","get","items","state","console","log","unit","$unit","store","render","h","App","$mount"],"mappings":";;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEAA,aAAIC,GAAJ,CAAQC,aAAR;;AAEA,IAAMC,GAAG,GAAGC,OAAO,iBAAnB;;AACAJ,aAAIK,SAAJ,CAAcC,IAAd,GAAqBH,GAArB;AACAH,aAAIK,SAAJ,CAAcE,KAAd,GAAsBC,MAAM,CAACL,GAA7B;AACAH,aAAIK,SAAJ,CAAcI,MAAd,GAAuBD,MAAM,CAACE,KAA9B;AACAV,aAAIK,SAAJ,CAAcM,MAAd,GAAuBH,MAAM,CAACI,KAA9B;AACAZ,aAAIK,SAAJ,CAAcQ,UAAd,GAA2BC,kBAA3B;AACAd,aAAIe,MAAJ,CAAWC,aAAX,GAA2B,KAA3B,C,CAGA;AACA;AACA;AACA;AAEA;AACA;;AAEA,IAAIC,UAAU,GAAGC,MAAM,CAACC,SAAP,CAAiBC,iBAAjB,EAAjB,C,CACA;;AACA,IAAIH,UAAU,CAACI,WAAf,EAA4B;AAC1B,MAAIJ,UAAU,CAACK,QAAX,OAA0B,EAA9B,EAAkC;AAChCC,oBAAOC,OAAP,CAAe;AACbC,MAAAA,IAAI,EAAE;AADO,KAAf;AAGD,GAJD,MAIO;AACLP,IAAAA,MAAM,CAACQ,OAAP,CAAeC,KAAf,CAAqBC,GAArB,CAAyB,OAAzB,EAAkC,UAAUC,KAAV,EAAiB;AACjD,UAAIC,KAAK,GAAGD,KAAK,CAACC,KAAlB;;AACA,UAAIA,KAAK,KAAK,MAAd,EAAsB;AACpBP,wBAAOC,OAAP,CAAe;AACbC,UAAAA,IAAI,EAAE;AADO,SAAf;AAGD,OAJD,MAIO,IAAIK,KAAK,KAAK,MAAd,EAAsB;AAC3BP,wBAAOC,OAAP,CAAe;AACbC,UAAAA,IAAI,EAAE;AADO,SAAf;AAGD,OAJM,MAIA;AACLF,wBAAOC,OAAP,CAAe,GAAf;AACD;AACF,KAbD;AAcD;AACF,CArBD,MAqBO;AACLN,EAAAA,MAAM,CAACQ,OAAP,CAAeC,KAAf,CAAqBC,GAArB,CAAyB,OAAzB,EAAkC,UAAUC,KAAV,EAAiB;AACjD,QAAIC,KAAK,GAAGD,KAAK,CAACC,KAAlB;;AACA,QAAIA,KAAJ,EAAW;AACTP,sBAAOC,OAAP,CAAe;AACbC,QAAAA,IAAI,EAAE;AADO,OAAf;AAGD,KAJD,MAIO;AACLF,sBAAOC,OAAP,CAAe,GAAf;AACD;AACF,GATD;AAUD,C,CAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAO,OAAO,CAACC,GAAR,CAAYC,aAAZ;AACAjC,aAAIK,SAAJ,CAAc6B,KAAd,GAAsBD,aAAtB,C,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;;AAGA,IAAIjC,YAAJ,CAAQ;AACNuB,EAAAA,MAAM,EAANA,eADM;AAENY,EAAAA,KAAK,EAALA,cAFM;AAGNC,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAACC,YAAD,CAAL;AAAA;AAHH,CAAR,EAIGC,MAJH,CAIU,MAJV","sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport 'amfe-flexible'\nimport Vant from 'vant'\nimport 'vant/lib/index.css'\nimport './css/index.less'\nimport Clipboard from 'clipboard'\nimport unit from './unit'\n\nVue.use(Vant)\n\nconst cwv = require('../public/cwv')\nVue.prototype.$cwv = cwv\nVue.prototype.$cwv2 = window.cwv\nVue.prototype.$bip39 = window.bip39\nVue.prototype.$bip44 = window.bip44\nVue.prototype.$clipboard = Clipboard\nVue.config.productionTip = false\n\n\n// let loginState = ''\n// chrome.runtime.getBackgroundPage(function (event) {\n//   loginState = event.loginState\n//   console.log(loginState)\n\n// })\n// console.log('loginState', loginState)\n\nlet background = chrome.extension.getBackgroundPage()\n// console.log(background.signState())\nif (background.GlobalState) {\n  if (background.signJson() !== '') {\n    router.replace({\n      path: '/signature'\n    })\n  } else {\n    chrome.storage.local.get('state', function (items) {\n      let state = items.state\n      if (state === 'WARN') {\n        router.replace({\n          path: '/money-bag'\n        })\n      } else if (state === 'HAVE') {\n        router.replace({\n          path: '/login'\n        })\n      } else {\n        router.replace('/')\n      }\n    })\n  }\n} else {\n  chrome.storage.local.get('state', function (items) {\n    let state = items.state\n    if (state) {\n      router.replace({\n        path: '/login'\n      })\n    } else {\n      router.replace('/')\n    }\n  })\n}\n\n\n// chrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n//   if (request.type === 'SIGNJSON') {\n//     if (request.data.length > 0) {\n//     } else {\n//       chrome.storage.local.get('state', function (items) {\n//         let state = items.state\n//         if (state === 'WARN') {\n//           router.replace({\n//             path: '/money-bag'\n//           })\n//         } else if (state === 'HAVE') {\n//           router.replace({\n//             path: '/login'\n//           })\n//         } else {\n//           router.replace('/')\n//         }\n//       })\n//     }\n//     sendResponse('')\n//   }\n// })\n\n\n// let local = window.localStorage.getItem('open')\n// chrome.storage.local.get('state', function (items) {\n//   let state = items.state\n//   if (state === 'WARN' && local) {\n//     router.replace({\n//       path: '/money-bag'\n//     })\n//   } else if (state === 'HAVE') {\n//     router.replace({\n//       path: '/login'\n//     })\n//   } else {\n//     router.replace('/')\n//   }\n// })\n\nconsole.log(unit)\nVue.prototype.$unit = unit\n\n\n\n\n\n// Vue.prototype.$getStorage = function (key) {\n//   return new Promise(function (resolve) {\n//     chrome.storage.local.get(key, function (items) {\n//       resolve(items[key])\n//     })\n//   })\n// }\n\n\n\n\n// chrome.runtime.onMessageExternal.addListener(function (\n//   request,\n//   sender,\n//   sendResponse\n// ) {\n//   // 可以针对sender做一些白名单检查\n//   // sendResponse返回响应\n//   alert('request', request)\n//   console.log(request)\n//   if (request.type == 'MsgFromPage') {\n//     sendResponse({\n//       tyep: 'MsgFromChrome',\n//       msg: 'Hello, I am chrome extension~'\n//     })\n//   }\n\n// })\n\n// var popupWindows = chrome.extension.getViews({type:'popup'});\n// if (popupWindows.length) { // A popup has been found\n//     // details is the object from the onMessage event (see 2)\n//     popupWindows[0].whatever(message, sendResponse);\n// }\n// function whatever(message, sendResponse) {\n//   // Do something, for example, sending the message back\n//   sendResponse(message);\n// }\n\n// let state = window.localStorage.getItem('state') || ''\n\n\n\n// let state = ''\n// getStorage('state').then((v) => {\n//   let state = v\n//   if (state === 'WARN') {\n//     router.replace({\n//       path: '/money-home'\n//     })\n//   } else if (state === 'HAVE') {\n//     router.replace({\n//       path: '/login'\n//     })\n//   } else {\n//     router.replace('/')\n//   }\n// })\n\n// new Promise(function (resolve, reject) {\n\n// })\n\n// chrome.storage.local.get('state', function (result) {\n//   console.log(result)\n//   state = result.state\n// })\n\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')"]}]}